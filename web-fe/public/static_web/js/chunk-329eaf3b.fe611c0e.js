(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329eaf3b"],{"0044":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"none"}})},r=[],s=(n("96cf"),n("3b8d")),a=(n("6f81"),n("1c48")),o={data:function(){return{result:{},captchaObj:null,interval:null}},created:function(){var t=this;this.init(),this.interval=setInterval((function(){t.init()}),29e4)},destroyed:function(){clearInterval(this.interval)},computed:{langForGeetest:function(){var t=this.$store.state.locale;switch(t){case"cn":t="zh-cn";break;case"en":t="en";break;default:t="en"}return t}},methods:{captchaHandler:function(t){var e=this;this.captchaObj=t,t.onReady((function(){e.$emit("onReady",e.captchaObj)})).onSuccess((function(){var n=t.getValidate();e.$emit("onSuccess",n)})).onClose((function(){e.$emit("onClose")})).onError((function(t){e.$emit("onError",t)}))},init:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].initGeetest();case 3:e=t.sent,n=e.data,window.initGeetest({gt:n.gt,challenge:n.challenge,offline:!n.success,new_captcha:n.new_captcha,product:"bind",width:"100%",lang:this.langForGeetest},this.captchaHandler),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()}},c=o,l=n("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null);e["a"]=u.exports},"1ffa":function(t,e,n){"use strict";var i=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;e.validate=function(t){if(!t)return!1;if(t.length>254)return!1;var e=i.test(t);if(!e)return!1;var n=t.split("@");if(n[0].length>64)return!1;var r=n[1].split(".");return!r.some((function(t){return t.length>63}))}},3002:function(t,e,n){"use strict";var i=n("e253"),r=n.n(i);r.a},"6f81":function(t,e,n){"use strict";(function(t){n("a481");var e=n("7618");(function(n,i){"object"===Object(e["a"])(t)&&"object"===Object(e["a"])(t.exports)?t.exports=n.document?i(n,!0):function(t){if(!t.document)throw new Error("Geetest requires a window with a document");return i(t)}:i(n)})("undefined"!==typeof window?window:void 0,(function(t,n){if("undefined"===typeof t)throw new Error("Geetest requires browser environment");var i=t.document,r=t.Math,s=i.getElementsByTagName("head")[0];function a(t){this._obj=t}function o(t){var e=this;new a(t)._each((function(t,n){e[t]=n}))}a.prototype={_each:function(t){var e=this._obj;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]);return this}},o.prototype={api_server:"api.geetest.com",protocol:"http://",type_path:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var t=this;return l(t.type)?t.fallback_config[t.type]:t.new_captcha?t.fallback_config.fullpage:t.fallback_config.slide},_extend:function(t){var e=this;new a(t)._each((function(t,n){e[t]=n}))}};var c=function(t){return"number"===typeof t},l=function(t){return"string"===typeof t},u=function(t){return"boolean"===typeof t},p=function(t){return"object"===Object(e["a"])(t)&&null!==t},d=function(t){return"function"===typeof t},f={},m={},h=function(){return parseInt(1e4*r.random())+(new Date).valueOf()},v=function(t,e){var n=i.createElement("script");n.charset="UTF-8",n.async=!0,n.onerror=function(){e(!0)};var r=!1;n.onload=n.onreadystatechange=function(){r||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(r=!0,setTimeout((function(){e(!1)}),0))},n.src=t,s.appendChild(n)},g=function(t){return t.replace(/^https?:\/\/|\/$/g,"")},b=function(t){return t=t.replace(/\/+/g,"/"),0!==t.indexOf("/")&&(t="/"+t),t},w=function(t){if(!t)return"";var e="?";return new a(t)._each((function(t,n){(l(n)||c(n)||u(n))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(n)+"&")})),"?"===e&&(e=""),e.replace(/&$/,"")},_=function(t,e,n,i){e=g(e);var r=b(n)+w(i);return e&&(r=t+e+r),r},y=function(t,e,n,i,r){var s=function s(a){var o=_(t,e[a],n,i);v(o,(function(t){t?a>=e.length-1?r(!0):s(a+1):r(!1)}))};s(0)},C=function(e,n,i,r){if(p(i.getLib))return i._extend(i.getLib),void r(i);if(i.offline)r(i._get_fallback_config());else{var s="geetest_"+h();t[s]=function(e){"success"===e.status?r(e.data):e.status?r(i._get_fallback_config()):r(e),t[s]=void 0;try{delete t[s]}catch(n){}},y(i.protocol,e,n,{gt:i.gt,callback:s},(function(t){t&&r(i._get_fallback_config())}))}},P=function(t,e){var n={networkError:"网络错误"};if("function"!==typeof e.onError)throw new Error(n[t]);e.onError(n[t])},x=function(){return!!t.Geetest};x()&&(m.slide="loaded");var k=function(e,n){var i=new o(e);e.https?i.protocol="https://":e.protocol||(i.protocol=t.location.protocol+"//"),C([i.api_server||i.apiserver],i.type_path,i,(function(e){var r=e.type,s=function(){i._extend(e),n(new t.Geetest(i))};f[r]=f[r]||[];var a=m[r]||"init";"init"===a?(m[r]="loading",f[r].push(s),y(i.protocol,e.static_servers||e.domains,e[r]||e.path,null,(function(t){if(t)m[r]="fail",P("networkError",i);else{m[r]="loaded";for(var e=f[r],n=0,s=e.length;n<s;n+=1){var a=e[n];d(a)&&a()}f[r]=[]}}))):"loaded"===a?s():"fail"===a?P("networkError",i):"loading"===a&&f[r].push(s)}))};return t.initGeetest=k,k}))}).call(this,n("dd40")(t))},"70a8":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"box-container register"},[t.invitationCode?n("div",{staticClass:"prompt-container"},[n("i",{staticClass:"icon icon-check"}),n("span",[t._v(t._s(t.$t("login.YouAreInvited")))]),n("em",[t._v(" "+t._s(t.invitationCode))])]):t._e(),n("div",{staticClass:"title-container"},[n("div",{staticClass:"title-first__desc"},[n("span",[t._v(t._s(t.$t("login.CreateNewAccount")))])]),n("div",{staticClass:"title-second__desc"},[0===t.step?n("span",[t._v(t._s(t.$t("login.PleaseEnterYourAccountToGetTheNextStep")))]):t._e(),1===t.step?n("span",[t._v(t._s("mobile"===t.regType?"短信验证码已发送到您的手机":"验证码已发送到您的邮箱"))]):t._e()])]),n("div",{staticClass:"register-container"},[1===t.step&&"email"===t.regType?n("div",{staticClass:"warn-container"},[n("i",{staticClass:"icon icon-info"}),n("span",[t._v(t._s(t.$t("login.IfYouDoNot")))])]):t._e(),n("div",{staticClass:"form-container"},[0===t.step?[n("div",{staticClass:"reg-type"},[n("a",{staticClass:"reg-type__item ",class:{active:"mobile"==t.regType},attrs:{href:"javascript:;"},on:{click:function(e){t.regType="mobile"}}},[t._v("手机号注册")]),n("a",{staticClass:"reg-type__item",class:{active:"email"==t.regType},attrs:{href:"javascript:;"},on:{click:function(e){t.regType="email"}}},[t._v("邮箱注册")])]),"email"==t.regType?n("div",{staticClass:"form-item form-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("login.EmailAddress")},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]):"mobile"==t.regType?[n("div",{staticClass:"form-item form-input form-input__btn"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.areaCode,expression:"areaCode"}],staticClass:"btn select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.areaCode=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("user.PleaseSelect")))]),t._l(t.areaCodeList,(function(e){return n("option",{key:e.label,domProps:{value:e.value}},[t._v(t._s(e.label))])}))],2)]),n("div",{staticClass:"form-item form-input form-input__btn"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("user.PhoneNumber")},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}})])]:t._e()]:t._e(),1===t.step?n("div",{staticClass:"form-item height-auto"},[1===t.step&&"mobile"===t.regType?n("div",{staticClass:"form-item form-input form-input__btn"},[n("p",{staticClass:"btn btn-submit form-step-title"},[t._v("电话：")]),n("p",{staticClass:"form-input__inner form-step-title"},[t._v(t._s(t.mobile))])]):t._e(),1===t.step&&"email"===t.regType?n("div",{staticClass:"form-item form-input form-input__btn"},[n("p",{staticClass:"btn btn-submit form-step-title"},[t._v("邮箱：")]),n("p",{staticClass:"form-input__inner form-step-title"},[t._v(t._s(t.email))])]):t._e(),n("div",{staticClass:"form-item form-input form-input__btn"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("login.VerificationCode")},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),0===t.countDown?n("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.verify}},[t._v(t._s(t.$t("login.Resend")))]):n("button",{staticClass:"btn btn-submit",attrs:{type:"button",disabled:""}},[t._v(t._s(t.countDown)+" S")])]),n("div",{staticClass:"form-item form-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-input__inner",attrs:{type:"password",placeholder:t.$t("login.PasswordRequirement"),autocomplete:"new-password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),n("PasswordPower",{attrs:{password:t.newPassword}})],1),n("div",{staticClass:"form-item form-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-input__inner",attrs:{type:"password",placeholder:t.$t("login.ConfirmPassword"),autocomplete:"new-password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),n("div",{staticClass:"form-item form-input"},[t.invitationCode?n("input",{staticClass:"form-input__inner",attrs:{type:"text",disabled:"",readonly:""},domProps:{value:t.invitationCode}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputInviteCode,expression:"inputInviteCode"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("login.InvitationCode")},domProps:{value:t.inputInviteCode},on:{input:function(e){e.target.composing||(t.inputInviteCode=e.target.value)}}})])]):t._e(),n("div",{staticClass:"form-item form-desc"},[n("span",{staticClass:"form-item__desc"},[t._v(t._s(t.$t("login.AlreadyHave")))]),n("router-link",{staticClass:"form-item__clickable",attrs:{to:{name:"login"}}},[t._v(t._s(t.$t("login.Login")))])],1),n("div",{staticClass:"form-submit"},[0===t.step?n("button",{staticClass:"btn btn-submit",attrs:{type:"button",disabled:!t.isValidAccount},on:{click:t.verify}},[t._v(t._s(t.$t("login.SignUpNow")))]):t._e(),1===t.step?n("button",{staticClass:"btn btn-submit",attrs:{type:"button",disabled:!t.isValidForm},on:{click:t.submitReg}},[t._v(t._s(t.$t("login.CreateYourAccount")))]):t._e()])],2)]),n("div",{staticClass:"box-footer"},[n("span",[t._v(t._s(t.$t("login.Agreement")))]),n("a",{staticClass:"link",attrs:{target:"_blank",href:t.$t("login.termLink")}},[t._v(t._s(t.$t("login.term")))])])]),n("AppGeetest",{on:{onReady:t.handleReady,onSuccess:t.sendCode}})],1)},r=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("6b54"),n("bd86")),a=(n("96cf"),n("3b8d")),o=n("d59e"),c=n("fe76"),l=n("7655"),u=n("1c48"),p=n("0044");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=n("1ffa"),h={mixins:[l["a"]],data:function(){return{authReady:!1,auth:null,geetestInfo:{},step:0,regType:"mobile",areaCodeList:[],areaCode:"",mobile:"",email:"",code:"",newPassword:"",confirmPassword:"",inputInviteCode:""}},components:{PasswordPower:c["a"],AppGeetest:p["a"]},beforeRouteEnter:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n,i){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].getConfig();case 3:r=t.sent,s=r.data,i((function(t){t.areaCodeList=s.map((function(e){return{value:e.code,label:"+".concat(e.code," ").concat(e[t.$store.state.locale])}})),t.areaCode=t.areaCodeList[0].value})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e,n,i){return t.apply(this,arguments)}return e}(),created:function(){var t=this.$route.query.account;m.validate(t)?(this.regType="email",this.email=t):/^[0-9]{7,11}$/.test(t)&&(this.regType="mobile",this.mobile=t)},methods:{verify:function(){this.auth.verify()},sendCode:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,i,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$Progress.start(),this.geetestInfo=e,t.prev=2,"email"!==this.regType){t.next=11;break}return i=f({email:this.email,type:"reg"},this.geetestInfo),t.next=7,u["a"].sendEmailCode(i);case 7:r=t.sent,n=r.msg,t.next=17;break;case 11:if("mobile"!==this.regType){t.next=17;break}return s=f({area_code:this.areaCode.toString(),mobile:this.mobile,type:"reg"},this.geetestInfo),t.next=15,u["a"].sendMobileCode(s);case 15:a=t.sent,n=a.msg;case 17:this.showSucMsg(n),this.startCountDown(),this.step=1,t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](2),console.log(t.t0),this.showErrMsg(t.t0.msg);case 26:this.$Progress.finish();case 27:case"end":return t.stop()}}),t,this,[[2,22]])})));function e(e){return t.apply(this,arguments)}return e}(),handleReady:function(t){this.authReady=!0,this.auth=t},submitReg:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.newPassword===this.confirmPassword){t.next=3;break}return this.showErrMsg(this.$t("user.PasswordNotSame")),t.abrupt("return");case 3:if(this.$Progress.start(),t.prev=4,"email"!==this.regType){t.next=14;break}return e={email:this.email,password:this.newPassword,code:this.code,invitation_code:this.invitationCode||this.inputInviteCode},t.next=9,u["a"].registerWithEmail(e);case 9:n=t.sent,i=n.msg,this.showSucMsg(i),t.next=21;break;case 14:if("mobile"!==this.regType){t.next=21;break}return r={area_code:this.areaCode.toString(),mobile:this.mobile,password:this.newPassword,code:this.code,invitation_code:this.invitationCode||this.inputInviteCode},t.next=18,u["a"].registerWithMobile(r);case 18:s=t.sent,a=s.msg,this.showSucMsg(a);case 21:this.$router.push({name:"login"}),t.next=28;break;case 24:t.prev=24,t.t0=t["catch"](4),this.showErrMsg(t.t0.msg),t.t0.geetestFail&&(this.step=0,this.email="",this.newPassword="",this.confirmPassword="",this.code="");case 28:this.$Progress.finish();case 29:case"end":return t.stop()}}),t,this,[[4,24]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{isValidAccount:function(){return"email"==this.regType?m.validate(this.email):"mobile"==this.regType?!!this.areaCode&&!!this.mobile&&/^[0-9]{7,11}$/.test(this.mobile):void 0},isValidForm:function(){return""!==this.code&&""!==this.newPassword&&""!==this.confirmPassword},invitationCode:function(){return this.$route.query.invitationCode}}},v=h,g=(n("93b1"),n("2877")),b=Object(g["a"])(v,i,r,!1,null,"b824a3f4",null);e["default"]=b.exports},"93b1":function(t,e,n){"use strict";var i=n("97a5"),r=n.n(i);r.a},"97a5":function(t,e,n){},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},e253:function(t,e,n){},fe76:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"password-strength",class:{high:t.power>=3,medium:2===t.power,low:1===t.power||0===t.power}},[n("span"),n("span"),n("span"),n("em",{staticClass:"strength-desc"},[t._v(t._s(t.$t("passwordStrength.strength"))+"："+t._s(t.powerText))])])},r=[],s={props:{password:{type:String,required:!0}},data:function(){return{power:1}},computed:{powerText:function(){return 1===this.power||0===this.power?this.$t("passwordStrength.low"):2===this.power?this.$t("passwordStrength.mid"):this.power>=3?this.$t("passwordStrength.high"):void 0}},watch:{password:function(t){function e(t){return t>=48&&t<=57?1:t>=65&&t<=90?2:t>=97&&t<=122?4:8}function n(t){for(var e=0,n=0;n<4;n+=1)1&t&&(e+=1),t>>>=1;return e}function i(t){if(t.length<8)return 0;for(var i=0,r=0;r<t.length;r+=1)i|=e(t.charCodeAt(r));return n(i)}this.power=i(t)}}},a=s,o=(n("3002"),n("2877")),c=Object(o["a"])(a,i,r,!1,null,"2703f90c",null);e["a"]=c.exports}}]);