(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f04a727"],{"0044":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"none"}})},s=[],o=(n("96cf"),n("3b8d")),a=(n("6f81"),n("1c48")),i={data:function(){return{result:{},captchaObj:null,interval:null}},created:function(){var t=this;this.init(),this.interval=setInterval((function(){t.init()}),29e4)},destroyed:function(){clearInterval(this.interval)},computed:{langForGeetest:function(){var t=this.$store.state.locale;switch(t){case"cn":t="zh-cn";break;case"en":t="en";break;default:t="en"}return t}},methods:{captchaHandler:function(t){var e=this;this.captchaObj=t,t.onReady((function(){e.$emit("onReady",e.captchaObj)})).onSuccess((function(){var n=t.getValidate();e.$emit("onSuccess",n)})).onClose((function(){e.$emit("onClose")})).onError((function(t){e.$emit("onError",t)}))},init:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].initGeetest();case 3:e=t.sent,n=e.data,window.initGeetest({gt:n.gt,challenge:n.challenge,offline:!n.success,new_captcha:n.new_captcha,product:"bind",width:"100%",lang:this.langForGeetest},this.captchaHandler),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()}},c=i,u=n("2877"),l=Object(u["a"])(c,r,s,!1,null,null,null);e["a"]=l.exports},"1ffa":function(t,e,n){"use strict";var r=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;e.validate=function(t){if(!t)return!1;if(t.length>254)return!1;var e=r.test(t);if(!e)return!1;var n=t.split("@");if(n[0].length>64)return!1;var s=n[1].split(".");return!s.some((function(t){return t.length>63}))}},3002:function(t,e,n){"use strict";var r=n("e253"),s=n.n(r);s.a},"6f81":function(t,e,n){"use strict";(function(t){n("a481");var e=n("7618");(function(n,r){"object"===Object(e["a"])(t)&&"object"===Object(e["a"])(t.exports)?t.exports=n.document?r(n,!0):function(t){if(!t.document)throw new Error("Geetest requires a window with a document");return r(t)}:r(n)})("undefined"!==typeof window?window:void 0,(function(t,n){if("undefined"===typeof t)throw new Error("Geetest requires browser environment");var r=t.document,s=t.Math,o=r.getElementsByTagName("head")[0];function a(t){this._obj=t}function i(t){var e=this;new a(t)._each((function(t,n){e[t]=n}))}a.prototype={_each:function(t){var e=this._obj;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]);return this}},i.prototype={api_server:"api.geetest.com",protocol:"http://",type_path:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var t=this;return u(t.type)?t.fallback_config[t.type]:t.new_captcha?t.fallback_config.fullpage:t.fallback_config.slide},_extend:function(t){var e=this;new a(t)._each((function(t,n){e[t]=n}))}};var c=function(t){return"number"===typeof t},u=function(t){return"string"===typeof t},l=function(t){return"boolean"===typeof t},d=function(t){return"object"===Object(e["a"])(t)&&null!==t},f=function(t){return"function"===typeof t},p={},h={},w=function(){return parseInt(1e4*s.random())+(new Date).valueOf()},m=function(t,e){var n=r.createElement("script");n.charset="UTF-8",n.async=!0,n.onerror=function(){e(!0)};var s=!1;n.onload=n.onreadystatechange=function(){s||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(s=!0,setTimeout((function(){e(!1)}),0))},n.src=t,o.appendChild(n)},v=function(t){return t.replace(/^https?:\/\/|\/$/g,"")},g=function(t){return t=t.replace(/\/+/g,"/"),0!==t.indexOf("/")&&(t="/"+t),t},b=function(t){if(!t)return"";var e="?";return new a(t)._each((function(t,n){(u(n)||c(n)||l(n))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(n)+"&")})),"?"===e&&(e=""),e.replace(/&$/,"")},_=function(t,e,n,r){e=v(e);var s=g(n)+b(r);return e&&(s=t+e+s),s},y=function(t,e,n,r,s){var o=function o(a){var i=_(t,e[a],n,r);m(i,(function(t){t?a>=e.length-1?s(!0):o(a+1):s(!1)}))};o(0)},P=function(e,n,r,s){if(d(r.getLib))return r._extend(r.getLib),void s(r);if(r.offline)s(r._get_fallback_config());else{var o="geetest_"+w();t[o]=function(e){"success"===e.status?s(e.data):e.status?s(r._get_fallback_config()):s(e),t[o]=void 0;try{delete t[o]}catch(n){}},y(r.protocol,e,n,{gt:r.gt,callback:o},(function(t){t&&s(r._get_fallback_config())}))}},x=function(t,e){var n={networkError:"网络错误"};if("function"!==typeof e.onError)throw new Error(n[t]);e.onError(n[t])},k=function(){return!!t.Geetest};k()&&(h.slide="loaded");var O=function(e,n){var r=new i(e);e.https?r.protocol="https://":e.protocol||(r.protocol=t.location.protocol+"//"),P([r.api_server||r.apiserver],r.type_path,r,(function(e){var s=e.type,o=function(){r._extend(e),n(new t.Geetest(r))};p[s]=p[s]||[];var a=h[s]||"init";"init"===a?(h[s]="loading",p[s].push(o),y(r.protocol,e.static_servers||e.domains,e[s]||e.path,null,(function(t){if(t)h[s]="fail",x("networkError",r);else{h[s]="loaded";for(var e=p[s],n=0,o=e.length;n<o;n+=1){var a=e[n];f(a)&&a()}p[s]=[]}}))):"loaded"===a?o():"fail"===a?x("networkError",r):"loading"===a&&p[s].push(o)}))};return t.initGeetest=O,O}))}).call(this,n("dd40")(t))},"98b9":function(t,e,n){},d5ea:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"box-container forget"},[n("div",{staticClass:"forget-container"},[n("div",{staticClass:"title-container"},[n("div",{staticClass:"title-first__desc"},[n("span",[t._v(t._s(t.$t("forgetPassword.title")))])]),n("div",{staticClass:"title-second__desc"},[0===t.step?n("span",[t._v(t._s(t.$t("forgetPassword.step1")))]):t._e(),1===t.step?n("span",[t._v(t._s(t.$t("forgetPassword.step2",{account:t.account})))]):t._e()])]),n("div",{staticClass:"form-container"},[0===t.step?n("div",{staticClass:"form-item form-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("forgetPassword.emailOrMobile")},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]):t._e(),1===t.step?n("div",{staticClass:"form-item"},[n("div",{staticClass:"form-item form-input form-input__btn"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("forgetPassword.code")},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),0===t.countDown?n("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.verify}},[t._v(t._s(t.$t("forgetPassword.resend")))]):n("button",{staticClass:"btn btn-submit",attrs:{type:"button",disabled:""}},[t._v(t._s(t.countDown)+" S")])]),n("div",{staticClass:"form-item form-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-input__inner",attrs:{type:"password",placeholder:t.$t("forgetPassword.newpass"),autocomplete:"new-password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),n("PasswordPower",{attrs:{password:t.newPassword}})],1),n("div",{staticClass:"form-item form-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-input__inner",attrs:{type:"password",placeholder:t.$t("forgetPassword.reinput"),autocomplete:"new-password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]):t._e(),n("div",{staticClass:"form-submit"},[0===t.step?n("button",{staticClass:"btn btn-submit",attrs:{type:"button",disabled:!t.isValidAccount},on:{click:t.verify}},[t._v("\n            "+t._s(t.$t("forgetPassword.reset"))+"\n          ")]):t._e(),1===t.step?n("button",{staticClass:"btn btn-submit",attrs:{type:"button",disabled:!t.isValidForm},on:{click:t.resetPassword}},[t._v("\n            "+t._s(t.$t("forgetPassword.confirm"))+"\n          ")]):t._e()])])])]),n("AppGeetest",{on:{onReady:t.handleReady,onSuccess:t.sendCode}})],1)},s=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=(n("96cf"),n("3b8d")),i=n("1c48"),c=n("7655"),u=n("fe76"),l=n("0044");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=n("1ffa"),h={components:{PasswordPower:u["a"],AppGeetest:l["a"]},mixins:[c["a"]],data:function(){return{authReady:!1,auth:null,geetestInfo:{},step:0,account:"",code:"",newPassword:"",confirmPassword:""}},methods:{handleReady:function(t){this.authReady=!0,this.auth=t},verify:function(){this.auth.verify()},sendCode:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$Progress.start(),this.geetestInfo=e,t.prev=2,!this.isValidEmail){t.next=11;break}return r=f({email:this.account,type:"fogot_pwd"},this.geetestInfo),t.next=7,i["a"].sendEmailCode(r);case 7:s=t.sent,n=s.msg,t.next=20;break;case 11:if(!this.isValidMobile){t.next=19;break}return o=f({area_code:"86",mobile:this.account,type:"fogot_pwd"},this.geetestInfo),t.next=15,i["a"].sendMobileCode(o);case 15:a=t.sent,n=a.msg,t.next=20;break;case 19:this.showErrMsg("账号格式有误");case 20:this.showSucMsg(n),this.startCountDown(),this.step=1,t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](2),this.showErrMsg(t.t0.msg);case 28:this.$Progress.finish();case 29:case"end":return t.stop()}}),t,this,[[2,25]])})));function e(e){return t.apply(this,arguments)}return e}(),resetPassword:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.newPassword===this.confirmPassword){t.next=3;break}return this.showErrMsg(this.$t("user.PasswordNotSame")),t.abrupt("return");case 3:if(t.prev=3,!this.isValidEmail){t.next=12;break}return n={email:this.account,password:this.newPassword,code:this.code},t.next=8,i["a"].resetPassword(n);case 8:r=t.sent,e=r.msg,t.next=17;break;case 12:return s={area_code:"86",mobile:this.account,password:this.newPassword,code:this.code},t.next=15,i["a"].resetPassword(s);case 15:o=t.sent,e=o.msg;case 17:this.showSucMsg(e),this.$router.push("/login"),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](3),this.showErrMsg(t.t0.msg);case 24:case"end":return t.stop()}}),t,this,[[3,21]])})));function e(){return t.apply(this,arguments)}return e}()},computed:{isValidEmail:function(){return p.validate(this.account)},isValidMobile:function(){return/^[0-9]{7,11}$/.test(this.account)},isValidAccount:function(){return this.isValidEmail||this.isValidMobile},isValidForm:function(){return""!==this.code&&""!==this.newPassword&&""!==this.confirmPassword}}},w=h,m=(n("fe85"),n("2877")),v=Object(m["a"])(w,r,s,!1,null,"3e4b86b9",null);e["default"]=v.exports},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},e253:function(t,e,n){},fe76:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"password-strength",class:{high:t.power>=3,medium:2===t.power,low:1===t.power||0===t.power}},[n("span"),n("span"),n("span"),n("em",{staticClass:"strength-desc"},[t._v(t._s(t.$t("passwordStrength.strength"))+"："+t._s(t.powerText))])])},s=[],o={props:{password:{type:String,required:!0}},data:function(){return{power:1}},computed:{powerText:function(){return 1===this.power||0===this.power?this.$t("passwordStrength.low"):2===this.power?this.$t("passwordStrength.mid"):this.power>=3?this.$t("passwordStrength.high"):void 0}},watch:{password:function(t){function e(t){return t>=48&&t<=57?1:t>=65&&t<=90?2:t>=97&&t<=122?4:8}function n(t){for(var e=0,n=0;n<4;n+=1)1&t&&(e+=1),t>>>=1;return e}function r(t){if(t.length<8)return 0;for(var r=0,s=0;s<t.length;s+=1)r|=e(t.charCodeAt(s));return n(r)}this.power=r(t)}}},a=o,i=(n("3002"),n("2877")),c=Object(i["a"])(a,r,s,!1,null,"2703f90c",null);e["a"]=c.exports},fe85:function(t,e,n){"use strict";var r=n("98b9"),s=n.n(r);s.a}}]);