(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2149b396"],{"1aa4":function(t,e,s){"use strict";var r=s("240c"),a=s.n(r);a.a},"240c":function(t,e,s){},"3bff":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"balance-container deposit"},[s("div",{staticClass:"balance-cross__container"},[s("div",{staticClass:"cross-left"},[s("div",{staticClass:"cross-left__header"},[s("div",{staticClass:"cross-left__title clear"},[s("router-link",{staticClass:"icon icon-return pointer",attrs:{tag:"i",to:"/balance/withdraw"}}),s("button",{staticClass:"btn fr",attrs:{type:"button"}},[t._v("\n            "+t._s(t.$t("addressManagement.StationDepositOrWithdraw"))+"\n          ")])],1),s("div",{staticClass:"cross-left__select"},[s("div",{staticClass:"left-select__title"},[s("span",[t._v(t._s(t.$t("addressManagement.WithdrawAddress")))])]),s("div",{staticClass:"select-container"},[s("v-menu",{attrs:{"open-on-click":"",bottom:"","offset-y":""}},[s("div",{staticClass:"select-input",attrs:{slot:"activator"},slot:"activator"},[t.showDetail?t._e():s("span",[t._v(t._s(t.$t("addressManagement.PleaseSelect")))]),t.showDetail?[s("img",{attrs:{src:t.currentCurrency.iconUrl}}),s("span",[t._v(t._s(t.currentCurrency.token))])]:t._e()],2),s("v-list",t._l(t.dataList,(function(e){return s("v-list-tile",{key:e.token,on:{click:function(s){return t.selectToken(e)}}},[s("v-list-tile-title",{staticClass:"select-container__list"},[s("div",{staticClass:"select-item"},[s("img",{attrs:{src:e.iconUrl}}),s("span",[t._v(t._s(e.token))])])])],1)})),1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"left-select__desc"},[s("span",[t._v(t._s(t.$t("addressManagement.Available"))+": "+t._s(t.currentCurrency.available)+" "+t._s(t.currentCurrency.token))])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"cross-left__body"},[s("div",{staticClass:"cross-form__container"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"from-item__title"},[s("span",[t._v(t._s(t.$t("addressManagement.ReceiveAddress")))])]),s("div",{staticClass:"form-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("addressManagement.PleaseEnterReceiveAddress")},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),s("div",{staticClass:"form-item"},[s("div",{staticClass:"from-item__title"},[s("span",[t._v(t._s(t.$t("addressManagement.RemarkName")))])]),s("div",{staticClass:"form-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("addressManagement.RemarkThisAddressName")},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}})])]),s("div",{staticClass:"form-item"},[s("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.addAddress}},[t._v("\n              "+t._s(t.$t("addressManagement.Confirm"))+"\n            ")])])])])]),s("div",{staticClass:"cross-right"},[s("div",{staticClass:"cross-right__title"},[s("span",{staticClass:"cross-title"},[t._v(t._s(t.$t("addressManagement.WithdrawalHistory")))])]),s("div",[s("DataTable",{attrs:{data:t.list,head:t.tableHead,"is-loading":t.loading},scopedSlots:t._u([{key:"item",fn:function(e){return[s("td",[t._v(t._s(e.data.currency))]),s("td",[t._v(t._s(e.data.address))]),s("td",[t._v(t._s(e.data.extra))]),s("td",[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(s){return t.delAddress(e.data.payout_address_id)}}},[t._v("\n                "+t._s(t.$t("addressManagement.Delete"))+"\n              ")])])]}}])})],1)])])])},a=[],n=(s("7514"),s("96cf"),s("3b8d")),i=s("8bc5"),c=s("1132"),o=s("30b7"),d=s("f45f"),u=s("93c6"),l=s.n(u),h=s("ed08"),p=s("1c48"),m={data:function(){return{list:[],loading:!1,dataList:[],showDetail:!1,currentCurrency:{},address:"",remark:""}},computed:{tableHead:function(){return[{text:this.$t("addressManagement.Token")},{text:this.$t("addressManagement.TokenAddress")},{text:this.$t("addressManagement.RemarkName")},{text:this.$t("addressManagement.Action")}]}},components:{DataTable:o["a"],CopyText:i["a"],Progress:c["a"]},methods:{selectToken:function(t){this.currentCurrency=t,this.address="",this.remark="",this.$router.push("/address-management?token=".concat(this.currentCurrency.token)),this.showDetail=!0,this.getWithdrawAddress(t.id)},addAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,r,a,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.address,s=this.currentCurrency.type,!Object(h["b"])(e,s)){t.next=27;break}return this.$Progress.start(),t.prev=4,t.next=7,d["a"].checkAddress({address:e,wallet_id:this.currentCurrency.id});case 7:return t.next=9,p["a"].getAuthDetail();case 9:if(r=t.sent,a=r.data,n=a.twofa,n){t.next=17;break}return this.showErrMsg(this.$t("balance.PleaseBindSecondaryAuthentication")),t.abrupt("return",this.$router.push({name:"google-auth"}));case 17:this.$modal.show({title:"验证",authList:["google"],onConfirm:function(t){return i.submitNewAddress(t)}});case 18:this.$Progress.finish(),t.next=25;break;case 21:return t.prev=21,t.t0=t["catch"](4),this.showErrMsg(t.t0.msg),t.abrupt("return",this.$Progress.fail());case 25:t.next=28;break;case 27:return t.abrupt("return",this.showErrMsg(this.$t("addressManagement.AddressFail")));case 28:case"end":return t.stop()}}),t,this,[[4,21]])})));function e(){return t.apply(this,arguments)}return e}(),submitNewAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={wallet_id:this.currentCurrency.id,address:this.address,extra:this.remark,googleCode:e.googleCode},t.prev=1,t.next=4,d["a"].addWithdrawAddress(s);case 4:return r=t.sent,a=r.msg,this.showSucMsg(a),t.next=9,this.getWithdrawAddress(s.wallet_id);case 9:this.address="",this.remark="",this.$modal.hide(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),this.showErrMsg(t.t0.msg);case 17:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(e){return t.apply(this,arguments)}return e}(),getWithdrawAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,d["a"].getWithdrawAddressList(e).then((function(t){return t.data||[]}));case 4:this.list=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),this.showErrMsg(t.t0.msg);case 10:this.loading=!1;case 11:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),delAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].deleteWithdrawAddress(e);case 3:s=t.sent,r=s.msg,this.showSucMsg(r),this.getWithdrawAddress(this.currentCurrency.id),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}()},beforeRouteEnter:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s,r){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getWallet();case 3:a=t.sent,n=a.data,i=l()(n,"currency","asc"),r((function(t){t.dataList=i.map((function(t){return{token:t.currency,iconUrl:t.icon,id:t.id,available:t.amount,validate_type:t.validate_type}})),e.query.token&&(t.currentCurrency=t.dataList.find((function(t){return t.token===e.query.token})),t.showDetail=!0,t.getWithdrawAddress(t.currentCurrency.id))})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));function e(e,s,r){return t.apply(this,arguments)}return e}()},v=m,f=(s("ccee"),s("2877")),g=Object(f["a"])(v,r,a,!1,null,"48fb8689",null);e["default"]=g.exports},"770b":function(t,e,s){},"8bc5":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"copytext-container",class:{"copy-focus":t.isFocus},on:{click:t.copy}},[s("div",{staticClass:"copy-front"},[s("span",[t._v(t._s(t.text))]),s("i",{staticClass:"icon icon-copy top-center"})]),s("div",{staticClass:"copy-reverse"},[s("i",{staticClass:"icon icon-check"}),s("span",[t._v(t._s(t.$t("other.CopiedSuccessfully")))])])])},a=[],n={props:{text:{type:String,default:""}},data:function(){return{isFocus:!1}},methods:{copy:function(){var t=this;this.$copyText(this.text).then((function(){t.isFocus=!0,setTimeout((function(){t.isFocus=!1}),2e3)}),(function(t){alert("Can not copy"),console.error(t)}))}}},i=n,c=(s("1aa4"),s("2877")),o=Object(c["a"])(i,r,a,!1,null,"2a9a3cdd",null);e["a"]=o.exports},ccee:function(t,e,s){"use strict";var r=s("770b"),a=s.n(r);a.a}}]);