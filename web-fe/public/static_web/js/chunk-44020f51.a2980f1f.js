(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44020f51"],{"1d2d":function(t,e,s){"use strict";var n=s("5a33"),a=s.n(n);a.a},"54dd":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("section",{staticClass:"deposit-info"},[s("el-dropdown",{staticClass:"deposit-info__select",attrs:{trigger:"click"},on:{command:t.select}},[s("div",{staticClass:"deposit-info__select-header deposit-info__select-item"},[[s("img",{staticClass:"deposit-info__select-logo",attrs:{src:t.currentCurrency.iconUrl,alt:""}}),t.showDetail?s("span",{staticClass:"deposit-info__select-name"},[t._v(t._s(t.currentCurrency.token))]):s("span",{staticClass:"deposit-info__select-name disabled"},[t._v(t._s(t.$t("balance.PleaseChoose")))])],s("i",{staticClass:"deposit-info__select-arrow"})],2),s("el-dropdown-menu",{staticClass:"deposit-info__select-menu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.dataList,(function(e){return s("el-dropdown-item",{key:e.token,attrs:{disabled:!e.disabled,command:e}},[s("div",{staticClass:"deposit-info__select-item"},[s("img",{staticClass:"deposit-info__select-logo",attrs:{src:e.iconUrl,alt:""}}),s("span",{staticClass:"deposit-info__select-name"},[t._v(t._s(e.token))])])])})),1)],1),s("p",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"deposit-info__asset"},[t._v(t._s(t.$t("balance.Available"))+": "+t._s(t.currentCurrency.available)+" "+t._s(t.currentCurrency.token))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"deposit-info__addr"},[s("img",{staticClass:"deposit-info__addr-qrcode",attrs:{src:t.qrcodeUrl,alt:""}}),s("div",{staticClass:"deposit-info__addr-ctn"},[s("div",{staticClass:"deposit-info__addr-item"},[s("p",{staticClass:"deposit-info__addr-field"},[t._v(t._s(t.$t("balance.DepositForm.DepositAddress",{token:t.currentCurrency.token}))+":")]),s("div",{staticClass:"deposit-info__addr-value"},[s("p",{staticClass:"text"},[t._v(t._s(t.walletAddress))]),s("p",{staticClass:"bw-btn-outline btn-copy",on:{click:function(e){return t.copyText(t.walletAddress)}}},[t._v("复制")])])]),t.memo?s("div",{staticClass:"deposit-info__addr-item"},[s("p",{staticClass:"deposit-info__addr-field"},[t._v(t._s(t.$t("balance.DepositForm.TokenMEMO",{token:t.currentCurrency.token}))+":")]),s("div",{staticClass:"deposit-info__addr-value"},[s("p",{staticClass:"text"},[t._v(t._s(t.memo))]),s("p",{staticClass:"bw-btn-outline btn-copy",on:{click:function(e){return t.copyText(t.memo)}}},[t._v("复制")])])]):t._e(),s("div",{staticClass:"deposit-info__note"},[s("i",{staticClass:"deposit-info__note-icon"}),s("div",{staticClass:"deposit-info__note-ctn"},[s("h2",{staticClass:"note-title"},[t._v("温馨提示")]),s("p",{staticClass:"note-text"},[t._v(t._s(t.$t("balance.DepositForm.Rule1",{min:t.currentCurrency.min_deposit,token:t.currentCurrency.token})))]),s("p",{staticClass:"note-text"},[t._v(t._s(t.$t("balance.DepositForm.Rule2",{token:t.currentCurrency.token})))]),s("p",{staticClass:"note-text"},[t._v(t._s(t.$t("balance.DepositForm.Rule3",{token:t.currentCurrency.token})))]),s("p",{staticClass:"note-text"},[t._v(t._s(t.$t("balance.DepositForm.Rule4")))])])])])])],1),s("section",{staticClass:"record"},[s("div",{staticClass:"record-title"},[s("h2",{staticClass:"record-title__text"},[t._v(t._s(t.$t("balance.DepositHistory")))]),s("div",{staticClass:"record-title__more"},[s("router-link",{attrs:{to:"/balance/history?type=1"}},[t._v(t._s(t.$t("balance.More"))),s("i",{staticClass:"el-icon-arrow-right"})])],1)]),s("BalanceTable",{attrs:{loading:t.isLoading,tableData:t.historyData}})],1)])},a=[],i=(s("c5f6"),s("7514"),s("96cf"),s("3b8d")),r=s("f45f"),o=s("93c6"),c=s.n(o),d=s("d055"),l=s("590d"),u={data:function(){return{list:[],dataList:[],showDetail:!1,currentCurrency:{},qrcodeUrl:"",walletAddress:"",memo:"",isLoading:!1,historyData:[]}},components:{BalanceTable:l["a"]},beforeRouteEnter:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,s,n){var a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r["a"].getWallet();case 3:a=t.sent,i=a.data,o=c()(i,"currency","asc"),n((function(t){t.dataList=o.map((function(t){return{token:t.currency,iconUrl:t.icon,id:t.id,disabled:t.open_deposit,available:t.amount,min_deposit:t.detail.min_deposit,min_withdraw:t.detail.min_withdraw}})),e.query.token&&(t.currentCurrency=t.dataList.find((function(t){return t.token===e.query.token})),t.getAddress(t.currentCurrency.id),t.getHistory())})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));function e(e,s,n){return t.apply(this,arguments)}return e}(),methods:{select:function(t){this.currentCurrency=t,this.getHistory(),this.getAddress(t.id),this.$router.push("/balance/deposit?token=".concat(this.currentCurrency.token))},getAddress:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s,n,a,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={wallet_id:e},t.prev=1,t.next=4,r["a"].getChargeAddress(s).then((function(t){return t.data}));case 4:n=t.sent,a=n.address,i=n.memo,this.memo=i,this.walletAddress=a,Object(d["toDataURL"])(a,(function(t,e){o.qrcodeUrl=e})),this.showDetail=!0,t.next=19;break;case 13:t.prev=13,t.t0=t["catch"](1),this.showErrMsg(t.t0.msg),this.qrcodeUrl="",this.memo="",this.walletAddress="";case 19:case"end":return t.stop()}}),t,this,[[1,13]])})));function e(e){return t.apply(this,arguments)}return e}(),getHistory:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,e={page:1,currency:this.currentCurrency.token,limit:10},t.next=5,r["a"].getWalletHistory(200,e);case 5:s=t.sent,n=s.data,a=n.data||[],this.historyData=a.map((function(t){return{time:t.create_time,token:t.currency,amount:t.amount,state:t.state,confirmations:Number(t.confirmations),totalConfirmations:Number(t.need_confirmations),txid:t.txid,address:t.address,expanded:!1}})),this.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}(),copyText:function(t){var e=this;this.$copyText(t).then((function(){e.$message.success("复制成功")}),(function(){e.$message.error("复制失败，请手动复制")}))}}},p=u,_=(s("1d2d"),s("2877")),m=Object(_["a"])(p,n,a,!1,null,"1f920685",null);e["default"]=m.exports},"5a33":function(t,e,s){}}]);