(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac6abf22"],{"0044":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"}})},o=[],a=(n("96cf"),n("3b8d")),i=(n("6f81"),n("1c48")),c={data:function(){return{result:{},captchaObj:null,interval:null}},created:function(){var e=this;this.init(),this.interval=setInterval((function(){e.init()}),29e4)},destroyed:function(){clearInterval(this.interval)},computed:{langForGeetest:function(){var e=this.$store.state.locale;switch(e){case"cn":e="zh-cn";break;case"en":e="en";break;default:e="en"}return e}},methods:{captchaHandler:function(e){var t=this;this.captchaObj=e,e.onReady((function(){t.$emit("onReady",t.captchaObj)})).onSuccess((function(){var n=e.getValidate();t.$emit("onSuccess",n)})).onClose((function(){t.$emit("onClose")})).onError((function(e){t.$emit("onError",e)}))},init:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i["a"].initGeetest();case 3:t=e.sent,n=t.data,window.initGeetest({gt:n.gt,challenge:n.challenge,offline:!n.success,new_captcha:n.new_captcha,product:"bind",width:"100%",lang:this.langForGeetest},this.captchaHandler),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.showErrMsg(e.t0.msg);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},s=c,u=n("2877"),l=Object(u["a"])(s,r,o,!1,null,null,null);t["a"]=l.exports},"6f81":function(e,t,n){"use strict";(function(e){n("a481");var t=n("7618");(function(n,r){"object"===Object(t["a"])(e)&&"object"===Object(t["a"])(e.exports)?e.exports=n.document?r(n,!0):function(e){if(!e.document)throw new Error("Geetest requires a window with a document");return r(e)}:r(n)})("undefined"!==typeof window?window:void 0,(function(e,n){if("undefined"===typeof e)throw new Error("Geetest requires browser environment");var r=e.document,o=e.Math,a=r.getElementsByTagName("head")[0];function i(e){this._obj=e}function c(e){var t=this;new i(e)._each((function(e,n){t[e]=n}))}i.prototype={_each:function(e){var t=this._obj;for(var n in t)t.hasOwnProperty(n)&&e(n,t[n]);return this}},c.prototype={api_server:"api.geetest.com",protocol:"http://",type_path:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var e=this;return u(e.type)?e.fallback_config[e.type]:e.new_captcha?e.fallback_config.fullpage:e.fallback_config.slide},_extend:function(e){var t=this;new i(e)._each((function(e,n){t[e]=n}))}};var s=function(e){return"number"===typeof e},u=function(e){return"string"===typeof e},l=function(e){return"boolean"===typeof e},f=function(e){return"object"===Object(t["a"])(e)&&null!==e},d=function(e){return"function"===typeof e},p={},h={},b=function(){return parseInt(1e4*o.random())+(new Date).valueOf()},m=function(e,t){var n=r.createElement("script");n.charset="UTF-8",n.async=!0,n.onerror=function(){t(!0)};var o=!1;n.onload=n.onreadystatechange=function(){o||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(o=!0,setTimeout((function(){t(!1)}),0))},n.src=e,a.appendChild(n)},v=function(e){return e.replace(/^https?:\/\/|\/$/g,"")},g=function(e){return e=e.replace(/\/+/g,"/"),0!==e.indexOf("/")&&(e="/"+e),e},w=function(e){if(!e)return"";var t="?";return new i(e)._each((function(e,n){(u(n)||s(n)||l(n))&&(t=t+encodeURIComponent(e)+"="+encodeURIComponent(n)+"&")})),"?"===t&&(t=""),t.replace(/&$/,"")},_=function(e,t,n,r){t=v(t);var o=g(n)+w(r);return t&&(o=e+t+o),o},y=function(e,t,n,r,o){var a=function a(i){var c=_(e,t[i],n,r);m(c,(function(e){e?i>=t.length-1?o(!0):a(i+1):o(!1)}))};a(0)},C=function(t,n,r,o){if(f(r.getLib))return r._extend(r.getLib),void o(r);if(r.offline)o(r._get_fallback_config());else{var a="geetest_"+b();e[a]=function(t){"success"===t.status?o(t.data):t.status?o(r._get_fallback_config()):o(t),e[a]=void 0;try{delete e[a]}catch(n){}},y(r.protocol,t,n,{gt:r.gt,callback:a},(function(e){e&&o(r._get_fallback_config())}))}},j=function(e,t){var n={networkError:"网络错误"};if("function"!==typeof t.onError)throw new Error(n[e]);t.onError(n[e])},O=function(){return!!e.Geetest};O()&&(h.slide="loaded");var k=function(t,n){var r=new c(t);t.https?r.protocol="https://":t.protocol||(r.protocol=e.location.protocol+"//"),C([r.api_server||r.apiserver],r.type_path,r,(function(t){var o=t.type,a=function(){r._extend(t),n(new e.Geetest(r))};p[o]=p[o]||[];var i=h[o]||"init";"init"===i?(h[o]="loading",p[o].push(a),y(r.protocol,t.static_servers||t.domains,t[o]||t.path,null,(function(e){if(e)h[o]="fail",j("networkError",r);else{h[o]="loaded";for(var t=p[o],n=0,a=t.length;n<a;n+=1){var i=t[n];d(i)&&i()}p[o]=[]}}))):"loaded"===i?a():"fail"===i?j("networkError",r):"loading"===i&&p[o].push(a)}))};return e.initGeetest=k,k}))}).call(this,n("dd40")(e))},7086:function(e,t,n){"use strict";var r=n("b229"),o=n.n(r);o.a},b229:function(e,t,n){},bde7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-container bind-mobile"},[n("div",{staticClass:"mobile-title__container"},[n("div",{staticClass:"mobile-title"},[e._v(e._s(e.$t("user.BindYourPhone")))])]),n("div",{staticClass:"form-container mobile-body"},[n("div",{staticClass:"form-item form-input form-input__btn"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.areaCode,expression:"areaCode"}],staticClass:"btn select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.areaCode=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("user.PleaseSelect")))]),e._l(e.areaCodeList,(function(t){return n("option",{key:t.label,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]),n("div",{staticClass:"form-item form-input form-input__btn"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:e.$t("user.PhoneNumber")},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),n("div",{staticClass:"form-item form-input form-input__btn"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:e.$t("user.VerificationCode")},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),120===e.countDown||0===e.countDown?n("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:e.openGeetest}},[e._v(e._s(e.$t("user.Send")))]):n("button",{staticClass:"btn btn-submit",attrs:{type:"button",disabled:""}},[e._v(e._s(e.countDown)+" S")])]),n("div",{staticClass:"form-submit"},[n("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:e.bindMobile}},[e._v(e._s(e.$t("user.ConfirmBinding")))])])]),n("AppGeetest",{on:{onReady:e.handleReady,onSuccess:e.sendCode}})],1)},o=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("6b54"),n("bd86")),i=(n("96cf"),n("3b8d")),c=n("d59e"),s=n("1c48"),u=n("7655"),l=n("0044");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={mixins:[u["a"]],data:function(){return{areaCodeList:[],areaCode:"",mobile:"",code:"",authReady:!1,auth:null,geetestInfo:{}}},computed:{},components:{AppGeetest:l["a"]},beforeRouteEnter:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getConfig();case 3:o=e.sent,a=o.data,r((function(e){e.areaCodeList=a.map((function(t){return{value:t.code,label:"+".concat(t.code," ").concat(t[e.$store.state.locale])}}))})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),r({name:"/user"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),methods:{sendCode:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$Progress.start(),this.geetestInfo=t,e.prev=2,n=d({area_code:this.areaCode.toString(),mobile:this.mobile,type:"bind"},this.geetestInfo),e.next=6,s["a"].sendMobileCode(n);case 6:r=e.sent,o=r.msg,this.showSucMsg(o),this.startCountDown(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),this.showErrMsg(e.t0.msg);case 15:this.$Progress.finish();case 16:case"end":return e.stop()}}),e,this,[[2,12]])})));function t(t){return e.apply(this,arguments)}return t}(),bindMobile:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].bindMobile({area_code:this.areaCode.toString(),mobile:this.mobile,code:this.code});case 3:t=e.sent,n=t.msg,this.showSucMsg(n),this.$store.commit("updateAccountInfo",{mobile:this.mobile,areaCode:this.areaCode.toString()}),this.$router.push({name:"user"}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.showErrMsg(e.t0.msg);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),handleReady:function(e){this.authReady=!0,this.auth=e},openGeetest:function(){this.auth.verify()}}},h=p,b=(n("7086"),n("2877")),m=Object(b["a"])(h,r,o,!1,null,"22283d0e",null);t["default"]=m.exports},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}}]);