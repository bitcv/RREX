(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bb34436"],{1590:function(t,e,s){t.exports=s.p+"img/table_no_list.96c5d35a.png"},"30b7":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"eox-table",class:{"dark-table":t.dark}},[a("thead",[a("tr",t._l(t.head,(function(e,s){return a("th",{key:s,class:[("right"===e.align?"text-right":"center"===e.align&&"text-center")||"left"===e.align&&"text-left",e.className],style:e.width&&"width:"+e.width},[t._v("\n          "+t._s(e[t.headOption.text])+"\n        ")])})),0)]),a("tbody",{style:t.bodyStyle},[t._l(t.data,(function(e,s){return t.fold||t.isLoading?t._e():a("tr",{directives:[{name:"show",rawName:"v-show",value:t.data.length,expression:"data.length"}],key:s},[t._t("item",null,{data:e})],2)})),t.fold&&!t.isLoading?t._t("item",null,{data:t.data}):t._e(),t.isLoading?a("tr",[a("td",{staticClass:"no-list",attrs:{colspan:t.head.length}},[t._m(0)])]):t._e(),t.data.length||t.isLoading?t._e():a("tr",[a("td",{staticClass:"no-list",attrs:{colspan:t.head.length}},[a("dl",[t.noDataImage?t._e():a("dt",[a("img",{staticClass:"no-data-image",attrs:{src:s("1590"),alt:"no-data"}})]),a("dd",[t._v("\n              "+t._s(t.$t("other.nodata"))+"\n            ")])])])])],2)])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rectangle-bounce"},[s("div",{staticClass:"rect1"}),s("div",{staticClass:"rect2"}),s("div",{staticClass:"rect3"}),s("div",{staticClass:"rect4"}),s("div",{staticClass:"rect5"})])}],n={props:{head:{type:Array,required:!0},headOption:{type:Object,default:function(){return{text:"text"}}},data:{type:Array,required:!0,default:function(){return[]}},isLoading:{type:Boolean,default:!1},noDataText:{type:String,default:"No Data"},fold:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},bodyHeight:{type:String,default:""},dark:{type:Boolean,default:!1},noDataImage:{type:Boolean,default:!1}},computed:{bodyStyle:function(){if(this.isSlide)return"height: ".concat(this.bodyHeight)}}},i=n,o=(s("cf18"),s("2877")),c=Object(o["a"])(i,a,r,!1,null,"4ec2f268",null);e["a"]=c.exports},"37ad":function(t,e,s){"use strict";var a=s("8fc7"),r=s.n(a);r.a},"8fc7":function(t,e,s){},bdd5:function(t,e,s){},cf18:function(t,e,s){"use strict";var a=s("bdd5"),r=s.n(a);r.a},f68c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"balance-container withdraw"},[s("div",{staticClass:"balance-cross__container"},[s("div",{staticClass:"cross-left"},[s("div",{staticClass:"cross-left__header"},[s("div",{staticClass:"cross-left__title clear"},[s("span",{staticClass:"cross-title fl"},[t._v(t._s(t.$t("balance.TokenWithdraw")))])]),s("div",{staticClass:"cross-left__select"},[s("div",{staticClass:"select-container"},[s("v-menu",{attrs:{"open-on-click":"",bottom:"","offset-y":""}},[s("div",{staticClass:"select-input",attrs:{slot:"activator"},slot:"activator"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.showDetail,expression:"!showDetail"}]},[t._v(t._s(t.$t("balance.PleaseChoose")))]),t.showDetail?[s("img",{attrs:{src:t.currentCurrency.iconUrl}}),s("span",[t._v(t._s(t.currentCurrency.token))])]:t._e()],2),s("v-list",t._l(t.dataList,(function(e){return s("v-list-tile",{key:e.token,attrs:{disabled:!e.disabled},on:{click:function(s){return t.select(e)}}},[s("v-list-tile-title",{staticClass:"select-container__list"},[s("div",{staticClass:"select-item"},[s("img",{attrs:{src:e.iconUrl}}),s("span",[t._v(t._s(e.token))])])])],1)})),1)],1)],1),s("div",{staticClass:"clear left-select__desc"},[s("span",{staticClass:"fr"},[t._v(t._s(t.$t("balance.24HWithdrawalAmount"))+t._s(t.withdrawLimit.total)+"/"+t._s(t.withdrawLimit.max)+" BTC")])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"cross-left__body"},[s("div",{staticClass:"cross-form__container"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"from-item__title"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.TransferAmount")))]),s("span",{staticClass:"fr form-title__desc"},[t._v("\n                "+t._s(t.$t("balance.WithdrawForm.AvailableAmount",{amount:t.currentCurrency.available,token:t.currentCurrency.token}))+"\n              ")])]),s("div",{staticClass:"form-input__btn form-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("balance.WithdrawForm.PleaseInputAmount")},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),s("button",{staticClass:"cross-form__btn",attrs:{type:"button"},on:{click:function(e){t.amount=t.currentCurrency.available}}},[t._v(t._s(t.$t("balance.WithdrawForm.All")))])]),s("div",{staticStyle:{"margin-top":"5px"}},[t._v(t._s(t.$t("balance.TradingFee"))+":"+t._s(t.currentCurrency.fee)+" "+t._s(t.currentCurrency.token))])]),s("div",{staticClass:"form-item"},[s("div",{staticClass:"from-item__title"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.ReceiveAddress")))])]),s("div",{staticClass:"form-input__btn form-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.withdrawAddress,expression:"withdrawAddress"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("balance.WithdrawForm.PleaseEnterReceiveAddress")},domProps:{value:t.withdrawAddress},on:{input:function(e){e.target.composing||(t.withdrawAddress=e.target.value)}}}),s("div",{staticClass:"cross-form__btn select-container"},[s("v-menu",{attrs:{"nudge-width":100,"offset-y":"",left:"","open-on-click":"",bottom:""}},[s("div",{staticClass:"select pointer",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.$t("balance.WithdrawForm.Select")))]),s("div",{staticClass:"address-box"},[s("div",{staticClass:"address-head",on:{click:function(e){t.showAddNewAddress=!0}}},[s("i",{staticClass:"icon icon-add"}),s("span",[t._v(t._s(t.$t("balance.WithdrawForm.AddNewAddress")))]),s("i",{staticClass:"icon icon-arrow"})]),t._l(t.addressList,(function(e,a){return s("div",{key:a,staticClass:"address-list"},[s("div",{staticClass:"address-item pointer",on:{click:function(s){t.withdrawAddress=e.address}}},[s("div",{staticClass:"address-item__title"},[s("span",[t._v(t._s(e.extra))])]),s("div",{staticClass:"address-item__desc"},[s("span",[t._v(t._s(e.address))])]),s("div",{staticClass:"address-item__close"},[s("i",{staticClass:"icon icon-del pointer",on:{click:function(s){return s.stopPropagation(),t.delAddress(e.payout_address_id)}}})])])])}))],2)])],1)]),t.showAddNewAddress?s("div",{staticClass:"form-item__view"},[s("div",{staticClass:"form-line form-view__item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newAddressName,expression:"newAddressName"}],staticClass:"form-input__inner address-no",attrs:{type:"text",placeholder:t.$t("balance.WithdrawForm.AddressNo")},domProps:{value:t.newAddressName},on:{input:function(e){e.target.composing||(t.newAddressName=e.target.value)}}}),s("span",[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newAddress,expression:"newAddress"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("balance.WithdrawForm.WithdrawalAddress")},domProps:{value:t.newAddress},on:{input:function(e){e.target.composing||(t.newAddress=e.target.value)}}})]),s("div",{staticClass:"btn-list__container form-line form-view__item"},[s("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.addAddress}},[t._v(t._s(t.$t("datePicker.confirm")))]),s("button",{staticClass:"btn btn-white",attrs:{type:"button"},on:{click:function(e){t.showAddNewAddress=!1}}},[t._v(t._s(t.$t("balance.WithdrawForm.Cancel")))])])]):t._e()]),"EOS"===t.currentCurrency.type?s("div",{staticClass:"form-item"},[s("div",{staticClass:"from-item__title"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.MEMO")))]),s("div",{staticClass:"fr"},[s("label",[s("input",{attrs:{type:"checkbox"}}),s("span",[t._v(t._s(t.$t("balance.WithdrawForm.NoMEMO")))])])])]),s("div",{staticClass:"form-input__btn form-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.memo,expression:"memo"}],staticClass:"form-input__inner",attrs:{type:"text",placeholder:t.$t("balance.WithdrawForm.PleaseEnterMEMO")},domProps:{value:t.memo},on:{input:function(e){e.target.composing||(t.memo=e.target.value)}}})]),s("div",{staticClass:"cross-form__warn"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.MEMOTips")))])])]):t._e(),s("div",{staticClass:"form-item"},[s("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.withdraw}},[t._v(t._s(t.$t("balance.WithdrawForm.Confirm")))])])]),s("div",{staticClass:"cross-warn"},[s("div",{staticClass:"cross-warn__item"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.Rule1",{token:t.currentCurrency.token,min:t.currentCurrency.min_withdraw})))])]),s("div",{staticClass:"cross-warn__item"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.Rule2")))])]),s("div",{staticClass:"cross-warn__item"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.Rule3",{token:t.currentCurrency.token})))])]),s("div",{staticClass:"cross-warn__item"},[s("span",[t._v(t._s(t.$t("balance.WithdrawForm.Rule4")))])])])])]),s("div",{staticClass:"cross-right"},[s("div",{staticClass:"cross-right__title"},[s("span",{staticClass:"cross-title"},[t._v(t._s(t.$t("balance.WithdrawalHistory")))]),s("div",{staticClass:"fr pointer"},[s("router-link",{attrs:{tag:"span",to:"/balance/history?type=2"}},[t._v(t._s(t.$t("balance.More")))]),s("i",{staticClass:"icon icon-arrow"})],1)]),s("div",[s("WithdrawTable",{attrs:{"table-data":t.historyData,loading:t.isLoading},on:{cancel:t.cancelWithdraw}})],1)])])])},r=[],n=(s("7514"),s("96cf"),s("3b8d")),i=s("bb67"),o=s("f45f"),c=s("93c6"),d=s.n(c),l=s("ed08"),u=s("1c48"),h={data:function(){return{isLoading:!1,list:[],historyData:[],dataList:[],currentCurrency:{},showDetail:!1,amount:"",addressList:[],showAddNewAddress:!1,newAddress:"",newAddressName:"",withdrawLimit:{total:"",max:""},withdrawAddress:"",memo:""}},beforeRouteEnter:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s,a){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].getWallet();case 3:r=t.sent,n=r.data,i=d()(n,"currency","asc"),a((function(t){t.dataList=i.map((function(t){return{token:t.currency,iconUrl:t.icon,id:t.id,disabled:t.open_withdraw,available:t.amount,type:t.validate_type,min_deposit:t.detail.min_deposit,min_withdraw:t.detail.min_withdraw,fee:t.fee_withdraw.fee}})),e.query.token&&(t.currentCurrency=t.dataList.find((function(t){return t.token===e.query.token})),t.select(t.currentCurrency))})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));function e(e,s,a){return t.apply(this,arguments)}return e}(),components:{WithdrawTable:i["a"]},methods:{withdraw:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r,n,i,o,c,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.withdrawAddress,s=this.currentCurrency.type,!Object(l["a"])(e,s)){t.next=26;break}return this.$Progress.start(),t.prev=4,t.next=7,u["a"].getAuthDetail();case 7:if(a=t.sent,r=a.data,n=r.twofa,i=r.mobile,o=r.email,n){t.next=15;break}return this.showErrMsg(this.$t("balance.PleaseBindSecondaryAuthentication")),t.abrupt("return",this.$router.push({name:"google-auth"}));case 15:c={title:"提币验证",authList:["google"],sendCodeType:"wallet",onConfirm:function(t){return d.submitWithdraw(t)}},i&&c.authList.push("mobile"),o&&c.authList.push("email"),this.$modal.show(c);case 19:this.$Progress.finish(),t.next=26;break;case 22:return t.prev=22,t.t0=t["catch"](4),this.showErrMsg(t.t0.msg),t.abrupt("return",this.$Progress.fail());case 26:return t.abrupt("return",this.showErrMsg(this.$t("balance.IncorrectAddress")));case 27:case"end":return t.stop()}}),t,this,[[4,22]])})));function e(){return t.apply(this,arguments)}return e}(),addAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.newAddress,s=this.currentCurrency.type,!Object(l["a"])(e,s)){t.next=23;break}return this.$Progress.start(),t.prev=4,t.next=7,u["a"].getAuthDetail();case 7:if(a=t.sent,r=a.data,n=r.twofa,n){t.next=15;break}return this.showErrMsg(this.$t("balance.PleaseBindSecondaryAuthentication")),t.abrupt("return",this.$router.push({name:"google-auth"}));case 15:this.$modal.show({title:"验证",authList:["google"],onConfirm:function(t){return i.submitNewAddress(t)}});case 16:this.$Progress.finish(),t.next=23;break;case 19:return t.prev=19,t.t0=t["catch"](4),this.showErrMsg(t.t0.msg),t.abrupt("return",this.$Progress.fail());case 23:return t.abrupt("return",this.showErrMsg(this.$t("balance.IncorrectAddress")));case 24:case"end":return t.stop()}}),t,this,[[4,19]])})));function e(){return t.apply(this,arguments)}return e}(),submitNewAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={wallet_id:this.currentCurrency.id,address:this.newAddress,extra:this.newAddressName,googleCode:e.googleCode},t.prev=1,t.next=4,o["a"].addWithdrawAddress(s);case 4:return a=t.sent,r=a.msg,this.showSucMsg(r),t.next=9,this.getWithdrawAddress(s.wallet_id);case 9:this.newAddress="",this.newAddressName="",this.$modal.hide(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),this.showErrMsg(t.t0.msg);case 17:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(e){return t.apply(this,arguments)}return e}(),submitWithdraw:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s={wallet_id:this.currentCurrency.id,amount_out:this.amount,address_out:this.withdrawAddress,memo:this.memo,googleCode:e.googleCode,mobileCode:e.mobileCode,emailCode:e.mobileCode},t.next=4,o["a"].withdraw(s);case 4:a=t.sent,r=a.msg,this.showSucMsg(r),this.$modal.hide(),this.amount="",this.withdrawAddress="",this.getHistory(),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(e){return t.apply(this,arguments)}return e}(),select:function(t){this.currentCurrency=t,this.showDetail=!0,this.$router.push("/balance/withdraw?token=".concat(this.currentCurrency.token)),this.getHistory(),this.getWithdrawAddress(),this.getWithdrawLimit()},cancelWithdraw:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].cancelWithdraw(e);case 3:s=t.sent,a=s.msg,this.showSucMsg(a),this.getHistory(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}(),delAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].deleteWithdrawAddress(e);case 3:s=t.sent,a=s.msg,this.showSucMsg(a),this.getWithdrawAddress(this.currentCurrency.id),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}(),getWithdrawLimit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].getWithdrawLimit();case 3:e=t.sent,s=e.data,this.withdrawLimit=s,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getWithdrawAddress:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.currentCurrency.id,t.prev=1,t.next=4,o["a"].getWithdrawAddressList(e).then((function(t){return t.data||[]}));case 4:this.addressList=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),this.showErrMsg(t.t0.msg);case 10:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}(),getHistory:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,e={page:1,currency:this.currentCurrency.token,limit:10},t.next=5,o["a"].getWalletHistory(201,e);case 5:s=t.sent,a=s.data,r=a.data||[],this.historyData=r.map((function(t){return{time:t.create_time,token:t.currency,amount:t.amount,state:t.state,txid:t.txid,address:t.address,expanded:!1,id:t.id,fee:t.fee}})),this.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.showErrMsg(t.t0.msg);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()}},m=h,p=(s("37ad"),s("2877")),w=Object(p["a"])(m,a,r,!1,null,"8c1ba4c6",null);e["default"]=w.exports}}]);